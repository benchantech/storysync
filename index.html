<style>
  #storyTeller {
  display: none;
  margin: 50px auto;
  padding: 16px 32px;
  font-size: 1.2em;
  background-color: #007BFF;
  color: white;
  border: none;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  width: 80%;
  max-width: 300px;
}

#storyTeller:active {
  background-color: #0056b3;
}
</style>

<button id="storyTeller" href="shortcuts://run-shortcut?name=Storyteller&input=What%20was%20your%20first%20job%3F">Ask Me a Question</button>

<script>
  async function setRandomQuestion() {
    try {
      const res = await fetch('/assets/json/questions.json');
      const data = await res.json();
      const questions = data.questions;
      const randomQ = questions[Math.floor(Math.random() * questions.length)];
      const encodedQ = encodeURIComponent(randomQ);

      const link = `shortcuts://run-shortcut?name=Storyteller&input=${encodedQ}`;
      document.getElementById('storyTeller').setAttribute('href', link);
      document.getElementById('storyTeller').style.display = 'block';
    } catch (err) {
      console.error('Error fetching questions:', err);
    }
  }

  setRandomQuestion();
</script>
